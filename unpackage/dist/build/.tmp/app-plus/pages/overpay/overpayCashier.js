(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/overpay/overpayCashier"],{"56a1":function(e,a,t){"use strict";(function(e,n){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=function(){return t.e("components/cashier/cashier").then(t.bind(null,"2ddd"))},i={components:{cashier:r},data:function(){return{wxData:{},providerList:[]}},onShow:function(){this.$checkLogin()},onLoad:function(a){var t=this;this.wxData={plateNo:a.plateNo.trim(),reqStr:JSON.parse(a.reqStr),data:JSON.parse(a.data),origin:a.origin};var r=this.wxData.data.counters;for(var i in r)null!=r[i]&&void 0!=r[i]&&(r[i].bank_codeWeixin?e.getProvider({service:"payment",success:function(e){e.provider.map(function(e){switch(e){case"wxpay":t.providerList.push({name:"微信",id:e,img:"../../static/cashier/wxpay.png"});break;default:break}})},fail:function(e){console.log(n("获取支付通道失败：",e," at pages\\overpay\\overpayCashier.vue:79"))}}):r[i].bank_codeZhifubao?e.getProvider({service:"payment",success:function(e){e.provider.map(function(e){switch(e){case"alipay":t.providerList.push({name:"支付宝",id:e,img:"../../static/cashier/alipay.png"});break;default:break}})},fail:function(e){console.log(n("获取支付通道失败：",e," at pages\\overpay\\overpayCashier.vue:104"))}}):r[i].bank_codeJhjh?this.providerList.push({name:"建行聚合",id:"ccb",img:"../../static/cashier/ccbpay.png"}):r[i].bank_codeShywt&&this.providerList.push({name:"一网通",id:"netcom",img:"../../static/cashier/netcompay.png"}))},methods:{requestPayment:function(a){var t=this;if(0!=this.providerList.length){var r=this.wxData.data,i={counter_ids:null,amountMoneyFloat:r.result.total/100,plateNo:this.wxData.plateNo,origin:this.wxData.origin,reqStr:this.wxData.reqStr};if("wxpay"==a.id){for(var o in r.counters)if(r.counters[o].bank_codeWeixin){i.counter_ids=r.counters[o].counter_id;break}}else if("alipay"==a.id){for(var s in r.counters)if(r.counters[s].bank_codeZhifubao){i.counter_ids=r.counters[s].counter_id;break}}else if("ccb"==a.id){for(var c in r.counters)if(r.counters[c].bank_codeJhjh){i.counter_ids=r.counters[c].counter_id;break}}else if("netcom"==a.id)for(var u in r.counters)if(r.counters[u].bank_codeShywt){i.counter_ids=r.counters[u].counter_id;break}this.$http.request({url:"/wx/jsonPreparePayInCounter",data:i,success:function(a){var n=a.data;if(n.success){n.sReqNo;n.counter_bank_codeIsWeixin?e.requestPayment({provider:"wxpay",orderInfo:{appid:n.prepayInfo.appid,noncestr:n.prepayInfo.noncestr,package:n.prepayInfo["package"],partnerid:n.prepayInfo.partnerid,prepayid:n.prepayInfo.prepayid,timestamp:Number(n.prepayInfo.timestamp),sign:n.prepayInfo.sign},success:function(a){t.$api.msg("支付成功"),e.navigateBack({delta:1})},fail:function(e){t.$api.msg("支付失败")}}):n.counter_bank_codeIsZhifubao?e.requestPayment({provider:"alipay",orderInfo:n.alipayReturnStr,success:function(a){t.$api.msg("支付成功"),e.navigateBack({delta:1})},fail:function(e){t.$api.msg("支付失败")}}):n.counter_bank_codeIsShywt?n.message?e.navigateTo({url:"../netcomCashier/netcomCashier?message="+n.message}):t.$api.msg(n.errorText):n.counter_bank_codeIsJhjh?t.$api.msg("建行聚合支付失败"):t.$api.msg("暂无该支付方式")}else t.$api.msg(n.errorText)},fail:function(e){console.log(n(e," at pages\\overpay\\overpayCashier.vue:236"))}})}else this.$api.msg("暂无支付方式")}}};a.default=i}).call(this,t("6e42")["default"],t("0de9")["default"])},"725a":function(e,a,t){"use strict";t.r(a);var n=t("9519"),r=t("b588");for(var i in r)"default"!==i&&function(e){t.d(a,e,function(){return r[e]})}(i);t("85d3");var o,s=t("f0c5"),c=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);a["default"]=c.exports},"85d3":function(e,a,t){"use strict";var n=t("ece8"),r=t.n(n);r.a},"8f9e":function(e,a,t){"use strict";(function(e){t("949b"),t("921b");n(t("66fd"));var a=n(t("725a"));function n(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,t("6e42")["createPage"])},9519:function(e,a,t){"use strict";var n,r=function(){var e=this,a=e.$createElement;e._self._c},i=[];t.d(a,"b",function(){return r}),t.d(a,"c",function(){return i}),t.d(a,"a",function(){return n})},b588:function(e,a,t){"use strict";t.r(a);var n=t("56a1"),r=t.n(n);for(var i in n)"default"!==i&&function(e){t.d(a,e,function(){return n[e]})}(i);a["default"]=r.a},ece8:function(e,a,t){}},[["8f9e","common/runtime","common/vendor"]]]);