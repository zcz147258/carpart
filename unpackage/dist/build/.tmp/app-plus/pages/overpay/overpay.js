(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/overpay/overpay"],{"2d6c":function(e,t,i){},"7f21":function(e,t,i){"use strict";var s=i("2d6c"),n=i.n(s);n.a},a400:function(e,t,i){"use strict";i.r(t);var s=i("b382"),n=i.n(s);for(var r in s)"default"!==r&&function(e){i.d(t,e,function(){return s[e]})}(r);t["default"]=n.a},b382:function(e,t,i){"use strict";(function(e,s){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(i("2436"));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(){return i.e("components/modal/modal").then(i.bind(null,"88a1"))},a=function(){return Promise.all([i.e("common/vendor"),i.e("components/mescroll-diy/xinlang/mescroll-body")]).then(i.bind(null,"4e94"))},c={mixins:[n.default],components:{MescrollBody:a,modal:o},data:function(){return{downOption:{auto:!0},iSumHisDebt:0,iCountHisDebt:0,jaOrders:[],busicomid:null,checkedAll:"",modalName:null,modalContent:"",plateNo:""}},onShow:function(){this.$checkLogin(),this.downCallback()},onLoad:function(e){this.plateNo=e.plateNum},computed:{selectedCount:function(){var e=this;if(null!=this.busicomid){var t=0;return this.jaOrders.forEach(function(i,s){i.lBusicomId==e.busicomid&&i.checkeds&&t++}),t}return 0},selectedSum:function(){var e=this;if(null!=this.busicomid){var t=0;return this.jaOrders.forEach(function(i,s){i.lBusicomId==e.busicomid&&i.checkeds&&(t+=i.iDebtMoney)}),t}return 0}},methods:{modalNameChange:function(e){this.modalName=e},selected:function(e){var t=this.jaOrders[e];if(null==this.busicomid||t.lBusicomId==this.busicomid)if(0==t.checkeds){this.busicomid=t.lBusicomId,this.jaOrders[e].checkeds=!0;for(var i=!0,s=0;s<this.jaOrders.length;s++)if(this.jaOrders[s].lBusicomId==t.lBusicomId&&1!=this.jaOrders[s].checkeds){i=!1;break}this.checkedAll=i}else{this.jaOrders[e].checkeds=!1;for(var n=null,r=0;r<this.jaOrders.length;r++)if(this.jaOrders[r].lBusicomId==t.lBusicomId&&this.jaOrders[r].checkeds){n=this.jaOrders[r].lBusicomId;break}null==n&&(this.busicomid=n),this.checkedAll=!1}},quanxuan:function(){var e=this;this.checkedAll?(this.busicomid=null,this.jaOrders.forEach(function(t,i){t.checkeds&&(e.jaOrders[i].checkeds=!1)}),this.checkedAll=!1):(this.busicomid=this.jaOrders[0].lBusicomId,this.jaOrders.forEach(function(t,i){t.lBusicomId==e.busicomid?e.jaOrders[i].checkeds=!0:e.jaOrders[i].checkeds=!1}),this.checkedAll=!0)},downCallback:function(){this.checkedAll=!1,this.busicomid=null,this.mescroll.resetUpScroll()},upCallback:function(t){var i=this;this.$http.request({url:"/wx/jsonOverpay_query",data:{plateNo:this.plateNo,pageIndex:t.num-1},success:function(e){if(setTimeout(function(){i.mescroll.endSuccess(i.jaOrders.length)},1e3),e.data.success){i.iSumHisDebt=e.data.result.iSumHisDebt,i.iCountHisDebt=e.data.result.iCountHisDebt;var s=e.data.result.jaOrders;s.forEach(function(e,t){s[t].checkeds=!1}),1==t.num?i.jaOrders=s:i.jaOrders=i.jaOrders.concat(s)}else i.$api.msg(e.data.errorText)},fail:function(t){console.log(e(t," at pages\\overpay\\overpay.vue:215")),i.mescroll.endErr()}})},todetails:function(e){s.navigateTo({url:"../details/details?lOrderId="+e})},gopay:function(){var t=this,i=this.selectedCount,n=this.selectedSum;if(0==i||0==n)return this.modalContent="请选择要补缴的记录",void(this.modalName="DialogModal2");var r=[];this.jaOrders.forEach(function(e,i){t.busicomid==e.lBusicomId&&e.checkeds&&r.push({lOrderId:e.lOrderId,dMoney:e.iDebtMoney})});var o={number:i,total:n,busicomid:this.busicomid,items:r};this.$http.request({url:"/wx/jaonOverpayPayCounter",data:{plateNo:this.plateNo,reqStr:o},success:function(e){var i=e.data;i.success?s.navigateTo({url:"overpayCashier?plateNo="+t.plateNo+"&reqStr="+JSON.stringify(o)+"&data="+JSON.stringify(i)+"&origin=overpay"}):t.$api.msg(i.errorText)},fail:function(t){console.log(e(t," at pages\\overpay\\overpay.vue:268"))}})}}};t.default=c}).call(this,i("0de9")["default"],i("6e42")["default"])},be97:function(e,t,i){"use strict";var s,n=function(){var e=this,t=e.$createElement;e._self._c},r=[];i.d(t,"b",function(){return n}),i.d(t,"c",function(){return r}),i.d(t,"a",function(){return s})},dbb7:function(e,t,i){"use strict";i.r(t);var s=i("be97"),n=i("a400");for(var r in n)"default"!==r&&function(e){i.d(t,e,function(){return n[e]})}(r);i("7f21");var o,a=i("f0c5"),c=Object(a["a"])(n["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);t["default"]=c.exports},eced:function(e,t,i){"use strict";(function(e){i("949b"),i("921b");s(i("66fd"));var t=s(i("dbb7"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("6e42")["createPage"])}},[["eced","common/runtime","common/vendor"]]]);